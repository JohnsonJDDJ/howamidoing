{% extends 'base.html' %}

{% block title %}
  {{ course.get_name() }}
{% endblock %}

{% block header %}
  <h1 class="light"><a href="{{ url_for('index') }}">My Profile</a>&nbsp;&nbsp;>&nbsp;&nbsp;</h1>
  <h1>{{ course.get_name() }}</h1>
  <filler></filler>
  <a class="action" href="{{ url_for('course.add_single_assignment', course_id = course.get_id()) }}">Add Single Assignment</a>
{% endblock %}

{% block content %}
  {% if course_details %}
    {% for comp_info in course_details %}
      <div class="card single-assignment">
        <div class="main">
          <div class="header">
            <h1>{{ comp_info['name'] }}</h1>
          </div>
          <div class="info">
            {% if comp_info["error_message"] %}
              <div class="message">
                {{ comp_info["error_message"] }}
              </div>
            {% else %}
            <div class="info-box">
              Your percentage: <span class="small bold">{{ comp_info['percentage'] }}</span> 
            </div>
            <div class="info-box">
              Class average: <span class="small">{{ comp_info['mu'] }}</span>
            </div>
            <div class="info-box">
              Class standard deviation:  <span class="small">{{ comp_info['sigma'] }}</span>
            </div>
            <filler></filler>
            {% endif %}
          </div>
          <div class="meta-box">
            Weight: {{ comp_info['weight'] }}.
          </div>
        </div>
        <div class="buttons">
          <a class="edit" href="{{ url_for('course.edit_single_assignment', course_id = course.get_id(), component_id = comp_info['id']) }}">
            <i class="fa-solid fa-pen-to-square fa-xl" style="color: #282828;"></i> 
          </a>
          <a class="delete" href="{{ url_for('course.delete_component', course_id = course.get_id(), component_id = comp_info['id']) }}">
            <i class="fa-solid fa-trash-can fa-xl" style="color: #282828;"></i> 
          </a>
        </div>
      </div>
      {% if not loop.last %}
        <hr>
      {% endif %}
    {% endfor %} 
  {% endif %}
  {% if message %}
    {{ message }}
  {% endif %}
{% endblock %}